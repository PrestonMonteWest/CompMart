{% extends 'commerce/commerce.html' %}

{% load static %}
{% block styles %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'commerce/css/pages/index.css' %}">
{% endblock %}

{% block page_content %}
<h2>Welcome!</h2>
<div class="container">
  {% for product in product_list %}
  <div class="product">
    <div class="image-box">
      <img alt="{{ product.name }}" src="{{ product.image.url }}">
    </div>
    <p><a href="{{ product.get_absolute_url }}">{{ product.name|upper }}</a></p>
    <p>${{ product.price }}</p>
    <p>
      {% if product.rating %}
      %{{ product.rating }}
      {% else %}
      <i>No Rating</i>
      {% endif %}
    </p>
    <p>{{ product.description|default:"<i>No Description</i>"|truncatechars:30 }}</p>
    <a class="button" href="{% url 'commerce:add' product.id %}">Add</a>
  </div>
  {% empty %}
  <p class="text">There are no products.</p>
  {% endfor %}
</div>
{% endblock %}
